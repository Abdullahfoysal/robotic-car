import pandas as pdimport osimport cv2from datetime import datetimeglobal imgList, steeringListcountFolder =0count =0imgList =[]steeringList = []##Det Current directory pathmyDirectory = os.path.join(os.getcwd(),'DataColelcted')#Creage a new folder based on the previous folder coundwhile os.path.exists(os.path.join(myDirectory,f'IMG{str(countFolder)}')):    countFolder += 1newPath = myDirectory + "/IMG"+str(countFolder)print(newPath)os.makedirs(newPath)#Save Images in the folderdef saveData(img,steering):    global imgList,steeringList    now = datetime.now()    timestamp = str(datetime.timestamp(now)).replace('.','')    fileName = os.path.join(newPath,f'Image_{timestamp}.jpg')    cv2.imwrite(fileName,img)    imgList.append(fileName)    steeringList.append(steering)#save Log file when the session endsdef saveLog():    global imgList,steerinList    rawData ={        'Image':imgList,        'Steering':steerinList}    df = pd.DataFrame(rawData)    df.to_csv(os.path.join(myDirectory,f'log_{str(countFolder)}.csv'),index=False,header=False)    print('Log Saved')    print('Total images: ',len(imgList))    if __name__ == '__main__':    cap =cv2.VideoCapture(1)    for x in range(10):        success,img =cap.read()        saveData(img,0.5)        cv2.waitKey(1)        cv2.imshow('Image',img)